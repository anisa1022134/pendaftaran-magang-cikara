<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - Cikara Studio</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/style.css">
 <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.12.1/font/bootstrap-icons.css">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<nav class="bg-[#112233] shadow-lg sticky top-0 z-50">
  <div class="container mx-auto flex items-center justify-between px-4 py-3">
    <a href="index.html" class="flex items-center">
      <img src="gambar/CIKARA - WHITE.png" alt="CIKARA Logo" class="h-10">
    </a>

    <ul class="hidden md:flex items-center space-x-6 text-white font-medium">
      <li><a href="index.html" class="hover:text-[#d4af37] transition">Home</a></li>

      <li class="relative">
        <a href="#" id="profilBtn" class="hover:text-[#d4af37] font-semibold transition">
          Profil <i class="bi bi-caret-down-fill ms-1"></i>
        </a>
        <ul id="profilMenu" class="absolute hidden bg-[#0c1c3d] rounded-md mt-2 w-44 shadow-lg z-50">
          <li><a href="sejarah.html" class="block px-4 py-2 hover:bg-[#1c2f5a] hover:text-[#D4AF37]">Tentang Sejarah</a></li>
          <li><a href="visi-misi.html" class="block px-4 py-2 hover:bg-[#1c2f5a] hover:text-[#D4AF37]">Visi & Misi</a></li>
          <li><a href="program.html" class="block px-4 py-2 hover:bg-[#1c2f5a] hover:text-[#D4AF37]">Program</a></li>
        </ul>
      </li>

      <li><a href="galeri.html" class="hover:text-[#d4af37] transition">Galeri</a></li>
      <li><a href="showcase.html" class="hover:text-[#d4af37] transition">Showcase</a></li>
      <li><a href="login.html" class="bg-[#d4af37] text-black px-4 py-2 rounded-md font-semibold hover:bg-yellow-500 transition">Login</a></li>
    </ul>

    <button id="mobileBtn" class="md:hidden flex flex-col justify-between w-6 h-6 focus:outline-none">
      <span class="block h-0.5 w-full bg-white"></span>
      <span class="block h-0.5 w-full bg-white"></span>
      <span class="block h-0.5 w-full bg-white"></span>
    </button>
  </div>

  <ul id="mobileMenu" class="md:hidden hidden bg-[#112233] text-white px-4 pt-2 pb-4 space-y-1">
    <li><a href="index.html" class="block px-2 py-2 hover:bg-[#1c2f5a] rounded">Home</a></li>

    <li class="relative">
      <button id="mobileDropdownBtn" class="w-full flex justify-between items-center px-2 py-2 hover:bg-[#1c2f5a] rounded">
        Profil
        <svg class="w-4 h-4 ml-2 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </button>
      <ul id="mobileDropdown" class="hidden pl-4 mt-1 space-y-1">
        <li><a href="sejarah.html" class="block px-2 py-2 hover:bg-[#1c2f5a] rounded">Tentang Sejarah</a></li>
        <li><a href="visi-misi.html" class="block px-2 py-2 hover:bg-[#1c2f5a] rounded">Visi & Misi</a></li>
        <li><a href="program.html" class="block px-2 py-2 hover:bg-[#1c2f5a] rounded">Program</a></li>
      </ul>
    </li>

    <li><a href="galeri.html" class="block px-2 py-2 hover:bg-[#1c2f5a] rounded">Galeri</a></li>
    <li><a href="showcase.html" class="block px-2 py-2 hover:bg-[#1c2f5a] rounded">Showcase</a></li>
    <li><a href="login.html" class="block px-2 py-2 bg-[#d4af37] text-black rounded hover:bg-yellow-500">Login</a></li>
  </ul>
</nav>

<body class="bg-[#112233] text-white font-poppins">
<main class="flex flex-col items-center gap-10 py-16 px-4">

  <div class="text-center max-w-3xl">
  <h1 class="text-3xl md:text-4xl font-bold mb-6" style="font-family: 'Cinzel', serif;">
    DAFTARKAN DIRIMU SEKARANG<br>AYO MULAI LANGKAHMU!
  </h1>
</div>
  <div class="w-full max-w-4xl h-80 md:h-96 rounded-lg overflow-hidden shadow-lg">
    <iframe
      title="Lokasi Cikara Studio"
      src="https://www.google.com/maps?q=Perum%20Cipta%20Graha%20Mandiri%20Blok%20A%2023,%20Sukarindik,%20Bungursari,%20Tasikmalaya%2046151&output=embed"
      width="100%"
      height="100%"
      style="border:0;"
      allowfullscreen=""
      loading="lazy">
    </iframe>
  </div>

  <form id="loginForm" class="bg-[#1c2f5a] p-8 rounded-lg shadow-lg w-full max-w-md border border-gray-700">
  <h2 class="text-2xl font-bold mb-6 text-center text-yellow-400">LOGIN</h2>
  
  <div class="mb-4">
    <label class="block mb-2 font-semibold text-white">Email</label>
    <input id="loginEmail" type="email" placeholder="Email"
           class="w-full px-4 py-2 rounded text-black border border-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400" required>
  </div>

  <div class="mb-4">
    <label class="block mb-2 font-semibold text-white">Password</label>
    <input id="loginPass" type="password" placeholder="Password"
           class="w-full px-4 py-2 rounded text-black border border-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400" required>
  </div>

  <div class="flex items-center justify-between mb-6">
    <label class="flex items-center gap-2">
      <input type="checkbox" id="rememberMe" class="accent-yellow-400">
      <span class="text-white">Remember Me</span>
    </label>
    <a href="#" class="text-yellow-400 hover:underline text-sm">Forgot Password?</a>
  </div>

  <div class="flex justify-center">
    <button type="submit" 
            class="w-1/2 bg-yellow-400 text-black py-2 rounded font-bold hover:bg-yellow-500 transition">
      Login
    </button>
  </div>
</form>
</main>
<footer class="bg-[#D4AF37] text-black">
  <div class="h-2 w-full bg-black"></div>
  <div class="container mx-auto px-4 py-10">
    <div class="row gy-4">
      <div class="col-md-3">
        <div class="flex flex-col items-start">
          <h4 class="text-xl font-bold font-poppins">Cikara Studio</h4>
          <img src="gambar/CIKARA - WHITE.png" alt="Cikara Studio" class="mt-2 w-32">
        </div>
      </div>
      <div class="col-md-4">
        <h4 class="text-lg font-bold mb-3 font-poppins">Lokasi</h4>
        <p>Perum Cipta Graha Mandiri</p>
        <p>Blok A 23, Sukarindik</p>
        <p>Bungursari, Tasikmalaya 45151</p>
      </div>
      <div class="col-md-5">
        <h4 class="text-lg font-bold mb-3 font-poppins">Contact</h4>
        <p class="mb-4">0853-1756-3748</p>
        <div class="social-icons flex gap-3 mt-2">
          <a href="https://www.instagram.com/cikarastudio" target="_blank" class="flex items-center justify-center w-10 h-10 bg-white text-[#112233] rounded-full shadow hover:bg-[#112233] hover:text-[#D4AF37] transition"><i class="bi bi-instagram text-xl"></i></a>
          <a href="https://cikarastudio.com" target="_blank" class="flex items-center justify-center w-10 h-10 bg-white text-[#112233] rounded-full shadow hover:bg-[#112233] hover:text-[#D4AF37] transition"><i class="bi bi-globe2 text-xl"></i></a>
          <a href="https://tiktok.com/@cikarastudio" target="_blank" class="flex items-center justify-center w-10 h-10 bg-white text-[#112233] rounded-full shadow hover:bg-[#112233] hover:text-[#D4AF37] transition"><i class="bi bi-music-note-beamed text-xl"></i></a>
          <a href="https://youtube.com/@cikarastudio" target="_blank" class="flex items-center justify-center w-10 h-10 bg-white text-[#112233] rounded-full shadow hover:bg-[#112233] hover:text-[#D4AF37] transition"><i class="bi bi-youtube text-xl"></i></a>
        </div>
      </div>
    </div>
  </div>
  <div class="bg-black py-4 text-center text-sm text-white">
    Â© 2025 Cikara Studio. All rights reserved.
  </div>
</footer>

<script>
document.getElementById("loginForm").addEventListener("submit", async function(e) {
  e.preventDefault();

  const email = document.getElementById("loginEmail").value;
  const password = document.getElementById("loginPass").value;

  try {
    const res = await fetch("http://localhost:3000/login", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email, password })
    });

    const data = await res.json();
    console.log("Server response:", data); //

    if (res.ok && data.token) {
      localStorage.setItem("token", data.token); // 
      window.location.href = "dashboard.html";  // 
    } else {
      alert(data.message || "Login gagal!");
    }
  } catch (err) {
    console.error(err);
    alert("Terjadi kesalahan server.");
  }
});
</script>
</body>
</html>
